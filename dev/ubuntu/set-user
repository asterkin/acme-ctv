#!/bin/bash

#Configure a proper user
#Usage:  set-user username "Full Name" e-mail
#Pre-requisites: git and docker installed 

if [ "$#" -ne 3 ]; then
    echo "Usage: set-user username \"Full Name\"" e-mail
    exit 1 
fi

sudo adduser --gecos "$2" $1
sudo sed -e "\$a$1 ALL=(ALL) ALL" -i /etc/sudoers
su $1
sudo echo sh -c "echo $1-vb >/etc/hostname"
sudo sed "s/administrator-VirtualBox/$1-vb/" -i /etc/hosts
sudo usermod -aG docker $USER
git config --global --add user.name "$2"
git config --global --add user.email "$1@$3.com"
git config --global --list

cd
mkdir golang
mkdir golang/src
echo "export GOPATH=/home/$USER/golang" >>.bashrc
echo "export GOPATH=/home/$USER/golang" >>.profile

